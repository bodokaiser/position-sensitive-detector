\section{Position-sensitive detector}

The \gls{psd} constitutes the heart of the position-sensitive device.
Its characteristics give the upper bound of the performance of our device.
In the following section we will give an overview of the available methods for optical position measurement in order to motivate the selection of a tetra-lateral \gls{psd} photodiode.
The arguments given are an excerpt of Ref.~\cite{Noorlag74}.
To the end of this section we describe how the \gls{psd} can be integrated into the framework of electrical circuit analysis.

\subsection{Optical position sensors}

Position measurement can be encoded by frequency, amplitude, pulse and spatial modulation of an optical signal.
However, only spatial modulation of an optical signal encodes the position information of the plane transverse to the signal.
We can distinguish between three types of two-dimensional position sensors:
\begin{enumerate}
	\item Image detectors
	\item Quadrant detectors
	\item Position-sensitive detectors
\end{enumerate}
Image detectors typically consists of an array of a photo-sensitive detectors, therefore they are able to image precise spatial distribution of a signal.
However, because of their discrete nature they only have a low resolution with respect to the center-of-mass of the signal.
Quadrant detectors consist of four photodiodes in close proximity.
From the photocurrent of every respective photodiode one can calculate the center-of-mass of the signal.
With the quadrant detectors there is always a loss of signal in the spacing region between the photodiodes.
In comparison to the quadrant detectors the \gls{psd} consists of a single (lateral) photodiode.
Therefore we expect the \gls{psd} to provide the highest resolution with respect to the center-of-mass of the incident signal.

\subsection{Operating principle}

The operating principle of the \gls{psd} can be though as follows:
Photons of the optical signal excite electrons to the surface of the \gls{psd}.
These electrons will divide across the four \gls{psd} anodes according to the resistance.
For an ideal \gls{psd} the surface resistance is homogeneous such that the effective resistance from the center-of-mass of the optical signal to the respective \gls{psd} anodes is determined by the respective linear distance.
More precise the anode currents in one dimension $I_1,I_2$ are given by,
\begin{align}
	I_1=\left(\frac{1}{2}-\frac{x}{L}\right)\left(I_1+I_2\right), &&
	I_2=\left(\frac{1}{2}+\frac{x}{L}\right)\left(I_1+I_2\right),
	\label{eq:psd_anode_current}
\end{align}
wherein $x$ is the distance of the center-of-mass of the signal from the center of the \gls{psd}.
We can use \Cref{eq:psd_anode_current} to find the position $x$,
\begin{equation}
	x=\frac{L}{2}\frac{I_2-I_1}{I_1+I_2}
	\label{eq:psd_position_1d}.
\end{equation}
Analogue one obtains the positions in the two dimensional case from,
\begin{align}
	x&=\frac{L}{2}\frac{(I_{X2}+I_{Y1})-(I_{X1}+I_{Y2})}{I_{X1}+I_{X2}+I_{Y1}+I_{Y2}},\\
	y&=\frac{L}{2}\frac{(I_{X2}+I_{Y2})-(I_{X1}+I_{Y1})}{I_{X1}+I_{X2}+I_{Y1}+I_{Y2}}	
	\label{eq:psd_position_2d}.	
\end{align}
Fundamental to the derivation was the assumption that the surface resistance is homogeneous over the \gls{psd}.
In case of the older tetra-lateral \gls{psd} design this assumption is not really justified and the surface resistance shows a linear distortion.
Fortunately the modern design improved tetra-lateral (pin-cushion) \gls{psd} chooses an arrangement of the anodes to compensate for these non-linearities.

\subsection{Detector selection}

Given the previous information the obvious choice for our use case is a tetra-lateral \gls{psd} of the improved (pin-cushion) type.
At the time of writing there are two major manufactures of such \gls{psd} --- First Sensor and Hamamatsu.
Having said that only Hamamatsu sells its \gls{psd} in small quantities.
In \Cref{tab:psd_hamamatsu} we present the \gls{psd} portfolio of Hamamatsu.
\begin{table}[H]
	\centering
	\begin{tabular}{lccccl}
		\toprule
			Item designation & S1880 & S2044 & S5990 & S5991 & Unit \\
		\midrule
			Photosensitive area &
			\num{12.0 x 12.0} & 
			\num{4.7 x 4.7} & 
			\num{4.0 x 4.0} & 
			\num{9.0 x 9.0} & 
			\si{\milli\meter\squared} \\
		\bottomrule	
	\end{tabular}
	\caption{\gls{psd} portfolio of Hamamatsu.}\label{tab:psd_hamamatsu}
\end{table}
The S1880 and S2044 use a multi-zone design whereas the S5990 and S5991 use the preferable improved tetra-lateral (pin-cushion) design.
The S5990 and S5991 share the same design but differ in size and specifications.
The increase in size of the S5991 compared to the S5990 yields some more undesired electrical properties.
In general we can use an additional lens in front of the \gls{psd} in order to project arbitrary optical signals onto the \gls{psd} surface, therefore the benefits of a better electronic characteristic outweigh the smaller photosensitive area and we select the \gls{s5990} as our preferred \gls{psd}.

\subsection{Equivalent circuit}

\Cref{fig:psd_symbol} shows the abstract schematic symbol for a two-dimensional \gls{psd} with the four anode terminals on the right hand side and a common cathode terminal on the left hand side.
We can apply a reverse bias voltage to the common cathode terminal in order to reduce the response time of the \gls{psd}.
According to Ref.~\cite{Noorlag74,HamamatsuPSD} highest spatial resolution is achieved with no reverse bias --- the common cathode terminal connected to ground --- as the reverse bias voltage increases the dark current of the \gls{psd}.
\begin{figure}[H]
	\centering
	\begin{circuitikz}
		\draw (0, 0)
			node[ocirc, label=CC] {}
			to[short, -*] ++(1, 0)
			+(4, 1)
			node[ocirc, label=X2] {}
			to[photodiode] +(0, 1)
			to[short, *-] +(0, -1)
			+(4, 3)
			node[ocirc, label=X1] {}
			to[photodiode] +(0, 3)
			to[short, *-] +(0, -3)
			+(4, -1)
			node[ocirc, label=Y1] {}
			to[photodiode] +(0, -1)
			to[short, *-] +(0, 1)
			+(4, -3)
			node[ocirc, label=Y2] {}
			to[photodiode] +(0,-3)
			to[short, *-] +(0, 3)
	;
	\end{circuitikz}
	\caption{Equivalent circuit of one of the \gls{psd} output terminals according to~\cite{HamamatsuPSD}.}\label{fig:psd_symbol}
\end{figure}
That said, the representation of \Cref{fig:psd_symbol} is not very useful for practical calculations.
Instead we will model the output terminals of the \gls{psd} as a two current sources with internal resistance $R_i$ and capacitance $C_t$~\cite{HamamatsuPSD}.
Such an equivalent circuit is presented in \Cref{fig:psd_circuit}.
The first current source represents the photo current $I_p$ which is created from photons that excite electrons.
The second current source represents the dark current $I_d$ which is created from thermal excitation of electrons.
\begin{figure}[H]
	\centering
	\begin{circuitikz}
		\draw (-1, -1)
			node[ground] {}
			to[short] ++(0, 1)
			to[short] ++(1, 0);
		\draw (0, 3)
			to[american current source, label=$I_p$] +(4, 0);
		\draw (0, 1)
			to[american current source, label=$I_d$] +(4, 0);
		\draw (0, -1)
			to[european resistor, label=$R_i$] +(4, 0);
		\draw (0, -3)
			to[capacitor, label=$C_t$] +(4, 0);
		\draw (0, 0)
			to[short, -*] ++(0, 1)
			to[short] ++(0, 2);
		\draw (0, 0)
			to[short, -*] ++(0, -1)
			to[short] ++(0, -2);
		\draw (4, 0)
			to[short, -*] ++(0, 1)
			to[short] ++(0, 2);
		\draw (4, 0)
			to[short, -*] ++(0, -1)
			to[short] ++(0, -2);
		\draw (5, 0)
			node[ocirc, label=X] {}
			to[short, -*] ++(-1, 0);
	\end{circuitikz}
	\caption{Equivalent circuit of one of the \gls{psd} output terminals according to~\cite{HamamatsuPSD}.}\label{fig:psd_circuit}
\end{figure}
The parameters for the equivalent circuit of the \gls{s5990} are summarized in \Cref{tab:psd_s5990}.
If not stated otherwise we will use the maximum values from the datasheet.
\begin{table}[H]
	\centering
	\begin{tabular}{lllll}
		\toprule
			\multirow{2}[3]{*}{Parameter} &
			\multirow{2}[3]{*}{Symbol} &
			\multicolumn{2}{c}{Values} &
			\multirow{2}[3]{*}{Unit} \\
			\cmidrule(lr){3-4} & & Typical & Maximum & \\
		\midrule
		Dark current & $I_d$ & \num{0.5} & \num{10} & \si{\nano\ampere}\\
		Interelectrode resistance & $R_e$ & \num{7} & \num{15} & \si{\kilo\ohm}\\
		Terminal capacitance & $C_t$ & \num{150} & \num{300} & \si{\pico\farad}\\
		\bottomrule	
	\end{tabular}
	\caption{Important parameters of the \gls{s5990} extracted from the datasheet~\cite{HamamatsuS5990}.}\label{tab:psd_s5990}
\end{table}
